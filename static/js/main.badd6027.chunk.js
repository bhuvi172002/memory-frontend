(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{37:function(e,t,a){e.exports=a(77)},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var l=a(1),n=a.n(l),c=a(18),r=a.n(c),o=a(31),s=a.n(o),m=a(6),i=a(14),u=a.n(i);const p="https://memory-backend-9xpf.onrender.com/posts",d=()=>async e=>{try{const{data:t}=await u.a.get(p);e({type:"FETCH_ALL",payload:t})}catch(t){console.log(t)}},E=e=>async t=>{try{const{data:l}=await(a=e,u.a.post(p,a));t({type:"CREATE",payload:l})}catch(l){console.log(l)}var a},g=(e,t)=>async a=>{try{const{data:l}=await((e,t)=>u.a.patch(`${p}/${e}`,t))(e,t);a({type:"UPDATE",payload:l})}catch(l){console.log(l)}},h=e=>async t=>{try{await(e=>u.a.delete(`${p}/${e}`))(e),t({type:"DELETE",payload:e})}catch(a){console.log(a)}};var f=a(5);var b=function(e){let{currentId:t,setcurrentId:a}=e;const c=Object(f.f)(),r=Object(m.b)(),o=JSON.parse(localStorage.getItem("profile")).result.email.split("@")[0],[i,u]=Object(l.useState)({creator:o,title:"",message:"",tags:"",selectedFile:""}),p=e=>{a(null),u({creator:o,title:"",message:"",tags:"",selectedFile:""})},d=Object(m.c)(e=>t?e.posts.find(e=>e._id===t):null);return Object(l.useEffect)(()=>{d&&u(d)},[d]),n.a.createElement("div",{className:"formcon"},n.a.createElement("form",{action:"",onSubmit:e=>{e.preventDefault(),r(t?g(t,i):E(i)),p()}},n.a.createElement("h1",null,t?"Updating":"Creating"," a memory"),n.a.createElement("input",{required:!0,value:i.title,onChange:e=>{u({...i,title:e.target.value})},name:"title",type:"text",placeholder:"title"}),n.a.createElement("textarea",{rows:6,required:!0,value:i.message,onChange:e=>{u({...i,message:e.target.value})},name:"message",type:"text",placeholder:"message"}),n.a.createElement("input",{required:!0,value:i.tags,onChange:e=>{u({...i,tags:e.target.value.split(",")})},name:"tags",type:"text",placeholder:"tags"}),n.a.createElement("div",null,n.a.createElement(s.a,{type:"file",multiple:!1,onDone:e=>{let{base64:t}=e;return u({...i,selectedFile:t})},className:"file"})),n.a.createElement("button",{type:"submit"},"submit"),n.a.createElement("button",{onClick:()=>{c.push("/Auth")}},"clear")))},v=a(34),y=a(33),O=a(12);a(68);var S=function(e){let{post:t,setcurrentId:a}=e;const[c,r]=Object(l.useState)(!1),o=Object(m.b)(),s=JSON.parse(localStorage.getItem("profile"));return Object(l.useEffect)(()=>{s.result.email.split("@")[0]===t.creator&&r(!0)},[t.creator,s.result.email,a]),n.a.createElement(O.a,{style:{overflow:"hidden",margin:"10px",height:"410px",width:"15rem"}},c&&n.a.createElement("div",{className:"update"},n.a.createElement(y.a,{onClick:()=>a(t._id),style:{color:"white",cursor:"pointer",height:"20px",width:"20px"}})),n.a.createElement(O.a.Img,{variant:"top",style:{height:"190px"},src:t.selectedFile}),n.a.createElement(O.a.Body,null,n.a.createElement(O.a.Text,{style:{fontWeight:"500",color:"#204b3b"}},t.title),n.a.createElement(O.a.Text,{className:"tst",style:{fontSize:"12px",color:"#204b3b",height:"80px"}},t.message),n.a.createElement(O.a.Text,{style:{fontSize:"12px",color:"#204b3b"}},"  ",t.tags.map(e=>`#${e} `))),n.a.createElement("div",{className:"buttons"},c&&n.a.createElement(v.a,{style:{cursor:"pointer"},onClick:()=>o(h(t._id))}),n.a.createElement("p",{className:"hello"},t.creator)))};a(70);var j=function(e){let{setcurrentId:t}=e;const a=Object(m.c)(e=>e.posts);return console.log(" all posts hello ",a),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"postscontainer"},a.length?a.map(e=>n.a.createElement(S,{setcurrentId:t,key:e._id,post:e})):n.a.createElement("div",{className:"loader"})))};a(71);var I=function(e){let{setSearch:t,Search:a,Home:c,Profile:r,setHome:o,setProfile:s}=e;const[i,u]=Object(l.useState)(JSON.parse(localStorage.getItem("profile"))),p=Object(m.b)(),d=Object(f.f)();return n.a.createElement("div",{className:"navbarr"},i&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"welcome"},n.a.createElement("h4",null,n.a.createElement("span",null,i.result.name[0])," Welcome! ",i.result.name,"         ")),n.a.createElement("div",{className:"welcomein"},n.a.createElement("span",null," ",n.a.createElement("h6",{onClick:()=>{c||(o(!0),s(!1),t(!1))}},"Home")),n.a.createElement("span",null,n.a.createElement("h6",{onClick:()=>{r||(s(!0),o(!1),t(!1))}},"Profile")),n.a.createElement("span",null,n.a.createElement("h6",{onClick:()=>{a||(t(!0),s(!1),o(!1))}},"Search")))),n.a.createElement("button",{onClick:()=>{p({type:"LOGOUT"}),d.push("/"),u(null)}},"Logout"))};var N=function(e){let{setcurrentId:t}=e;const a=Object(m.c)(e=>e.posts),l=JSON.parse(localStorage.getItem("profile")).result.email.split("@")[0],c=a.filter(e=>e.creator===l);return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"allposts"},a.length?c.map(e=>n.a.createElement(S,{setcurrentId:t,key:e._id,post:e})):n.a.createElement("div",{className:"loader"})))};a(72);var x=function(e){let{setcurrentId:t}=e;const a=Object(m.c)(e=>e.posts),[c,r]=Object(l.useState)(""),[o,s]=Object(l.useState)([]);return n.a.createElement("div",{style:{padding:"20px"}},n.a.createElement("input",{type:"text",placeholder:"Search by id",onChange:e=>{r(e.target.value)}}),n.a.createElement("button",{onClick:()=>{s(a.filter(e=>c===e.creator)),r("")}},"Search"),n.a.createElement("div",{className:"allposts"},a.length?o.map(e=>n.a.createElement(S,{setcurrentId:t,key:e._id,post:e})):n.a.createElement("div",{className:"loader"})))};a(73);var k=function(){const[e,t]=Object(l.useState)(null),[a,c]=Object(l.useState)(!0),[r,o]=Object(l.useState)(!1),[s,i]=Object(l.useState)(!1),u=Object(m.b)();return Object(l.useEffect)(()=>{u(d())},[u]),n.a.createElement("div",{className:"homemain"},n.a.createElement(I,{Search:s,setSearch:i,Home:a,Profile:r,setHome:c,setProfile:o}),a&&n.a.createElement(j,{setcurrentId:t}),r&&n.a.createElement("div",{className:"workspace"},n.a.createElement(N,{setcurrentId:t}),n.a.createElement(b,{currentId:e,setcurrentId:t})),s&&n.a.createElement(x,{setcurrentId:t}))},C=a(15),w=a(20),T=a(35);a(74);var A=function(){const e=Object(m.b)(),t=Object(f.f)();return n.a.createElement(w.b,{clientId:"122376577854-hggpthcj13dqok4qq41ppc64u13fe5kq.apps.googleusercontent.com"},n.a.createElement("div",{className:"googlelg"},n.a.createElement("h1",null,"MemoraVerse"),n.a.createElement("div",{className:"containerg"},n.a.createElement("center",null,n.a.createElement("h2",null,"Log In")),n.a.createElement("center",null,n.a.createElement(w.a,{onSuccess:async a=>{const l=Object(T.a)(a.credential),n=l,c=l.jti;try{e({type:"AUTH",data:{result:n,token:c}}),t.push("/Auth")}catch(r){console.log(r)}},onError:e=>{console.log("Google Sign In Error:",e)},useOneTap:!0})),n.a.createElement("p",null,"Your Memories, Your Story"))))};var L=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(C.a,null,n.a.createElement(f.c,null,n.a.createElement(f.a,{path:"/",exact:!0,component:A}),n.a.createElement(f.a,{path:"/Auth",exact:!0,component:k}))))},_=a(13),F=a(36);var D=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH":return console.log(null===t||void 0===t?void 0:t.data),localStorage.setItem("profile",JSON.stringify({...null===t||void 0===t?void 0:t.data})),{...e,authData:null===t||void 0===t?void 0:t.data};case"LOGOUT":return localStorage.clear(),{...e,authData:null};default:return e}},H=Object(_.b)({posts:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ALL":return t.payload;case"CREATE":return[...e,t.payload];case"UPDATE":case"LIKE":return e.map(e=>e._id===t.payload._id?t.payload:e);case"DELETE":return e.filter(e=>e._id!==t.payload);default:return e}},auth:D});a(75),a(76);const q=Object(_.d)(H,Object(_.c)(Object(_.a)(F.a)));r.a.render(n.a.createElement(m.a,{store:q},n.a.createElement(L,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.badd6027.chunk.js.map